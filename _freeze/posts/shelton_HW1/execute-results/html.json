{
  "hash": "e8cc4cfbfa212b9c9bbd0988307e7bf0",
  "result": {
    "markdown": "---\ntitle: \"Homework 1 Solution\"\nauthor: \"Dane Shelton\"\ndescription: \"Intro to Quant Analysis Homework 1\"\ndate: \"10/1/22\"\neditor: visual\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw1\n  - shelton\n---\n\n\n# Homework 1 Tasks:\n\n1.) Using LungCapData, answer descriptive questions about the data and its distributions.\n\n2.) Use the given distribution to answer questions about the probability of discrete events.\n\n\n\n\n\n## Task 1 - LungCapData\n\n### Loading the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#| include: false\n#| label: Loading in LungCap\n\n og_lungcap <- readxl::read_xls(\"_data/LungCapData.xls\")\n\n# Quick look at dataset\n# glimpse(og_lungcap)\n\n# Variables - 3<dbl> ratio 3<char> (can coerce to logical if needed), \n\n# length(which(is.na(og_lungcap)))\n\n# No missing values to consider\n\n# Descriptive\n# summarytools::dfSummary(og_lungcap)\n```\n:::\n\n\nLungCapData: Describes the lung capacity of a population of 725 children aged 3 - 19. It further categorizes the subjects by height, sex, smoking habits, and whether they were birthed using the Caesarean section technique.\n\nIn the following sections, we'll use `select()`, `group_by()`, `filter()`, and `summarize()` to further explore the data and find important relations between variables.\n\n### a) LungCap Histogram\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](shelton_HW1_files/figure-html/Histogram of LungCap-1.png){width=672}\n:::\n:::\n\n\n`LungCap` looks to be approximately normally distributed (unimodal, symmetric) with most observations centered around the mean (7.86).\n\n### b) LungCap Histogram: by Gender\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist_gender <- ggplot(og_lungcap, aes(x=LungCap, y=..density.., fill=Gender)) +\n  geom_histogram(alpha=.5, position=\"identity\", bins=20)+\n  geom_vline(aes(xintercept=mean(LungCap)))\nhist_gender\n```\n\n::: {.cell-output-display}\n![](shelton_HW1_files/figure-html/Histogram by Gender-1.png){width=672}\n:::\n:::\n\n\nPackage ggplot2 functions `ggplot()` and `geom_histogram()` are used to display the `LungCap` distribution filled by the `Gender` variable. Both density plots center on the mean, indicating both male and female lung capacity observations are highly concentrated around the mean. The male distribution is shifted slightly to the right of the female distribution, meaning male observations had a higher upper range value than female observations. Males had more observations concentrated to the right of the mean, and the female distribution reciprocated this effect to the left of the mean.\n\n### c) Smoking and Lung Capacity\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmokers <- group_by(og_lungcap, Smoke)\nsmokers %>%\n  summarize(mean(LungCap))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  Smoke `mean(LungCap)`\n  <chr>           <dbl>\n1 no               7.77\n2 yes              8.65\n```\n:::\n:::\n\n\nAfter creating a new dataset `smokers` by using `group_by()` on our original data, `smokers` is piped into a `summarize()` call. The results surprisingly show that the smoking group had a higher mean lung capacity than the nonsmoking group. This is likely due to a mean age difference within the groups.\n\n### d) e) Smoking and Lung Capacity: Within Age Groupings\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Creating Age Groups Using Case When\n\nsmokers_age <- smokers %>%\n  mutate(AgeGroup = case_when(Age >= 18 ~ \"18+\", \n            Age == 16 | Age == 17 ~ \"16-17\",\n            Age == 14 | Age == 15 ~ \"14-15\",\n            Age <= 13~ \"Under 13\"))\n\n# Mean LungCap by Age and Smoke\n# Must regroup by Smoke again\nsmokers_age %>%\n  group_by(AgeGroup, Smoke) %>%\n    summarize(mean(LungCap))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 3\n# Groups:   AgeGroup [4]\n  AgeGroup Smoke `mean(LungCap)`\n  <chr>    <chr>           <dbl>\n1 14-15    no               9.14\n2 14-15    yes              8.39\n3 16-17    no              10.5 \n4 16-17    yes              9.38\n5 18+      no              11.1 \n6 18+      yes             10.5 \n7 Under 13 no               6.36\n8 Under 13 yes              7.20\n```\n:::\n:::\n\n\nAfter using `mutate()` to add a column `AgeGroup` to a copy of `smokers`, `group_by()` groups the new dataset by `AgeGroup` and `Smoke` before piping it into a `summarize()` command to find the grouped means of `LungCap` by `AgeGroup` *and* `Smoke`.\n\nThe results show that for children above the age of 13, smokers had a lower mean lung capacity than non-smokers. However, for the 13 and under group, we again see results that imply smokers have greater lung capacity than nonsmokers. Let's investigate further into the relationship between age and lung capacity to explain this quizzical result.\n\n### f) Lung Capacity and Age\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncov(og_lungcap$Age, og_lungcap$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8.738289\n```\n:::\n\n```{.r .cell-code}\ncor(og_lungcap$Age, og_lungcap$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8196749\n```\n:::\n\n```{.r .cell-code}\n#GGPlot of Age vs Lung\nggplot(og_lungcap, aes(x=Age, y=LungCap)) + geom_point()\n```\n\n::: {.cell-output-display}\n![](shelton_HW1_files/figure-html/Corr()and Cov() of Lung Capacity and Age-1.png){width=672}\n:::\n:::\n\n\nAge and LungCap have a high covariance which leads to a high correlation (p=0.82). This strong positive value (-1\\<p\\<1) indicates these variables \"vary greatly\" together: when Age is high in the data, so is LungCap. We cannot say that an increase in Age causes an increase Lung capacity without first showing this through regression; however, our results show the variables are highly correlated.\n\nWe can use knowledge of the human body to infer that as our body ages, our lungs mature. The ages of smokers of the Under 13 group are likely highly left skewed, as I don't expect many children under 10 to be smoking. This underlying age distribution explains our puzzling results from the previous section.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsmokers_age%>%\n  group_by(AgeGroup, Smoke) %>%\n    summarize(mean(Age))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'AgeGroup'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 × 3\n# Groups:   AgeGroup [4]\n  AgeGroup Smoke `mean(Age)`\n  <chr>    <chr>       <dbl>\n1 14-15    no          14.5 \n2 14-15    yes         14.6 \n3 16-17    no          16.4 \n4 16-17    yes         16.6 \n5 18+      no          18.5 \n6 18+      yes         18.1 \n7 Under 13 no           9.49\n8 Under 13 yes         11.7 \n```\n:::\n:::\n\n\n## Task 2 - Probability Distribution\n\nFirst, let's create two vectors: x_val and freq. Then, we'll use rbind() to create a table.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx_val <-c(0,1,2,3,4)\nfreq <- c(128,434,160,64,24)\nprob <- freq/sum(freq)\n\nxdist <- rbind(x_val,prob)\n\nxdist\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n           [,1]      [,2]      [,3]       [,4]       [,5]\nx_val 0.0000000 1.0000000 2.0000000 3.00000000 4.00000000\nprob  0.1580247 0.5358025 0.1975309 0.07901235 0.02962963\n```\n:::\n:::\n\n\n### a) P(x=2)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Finding probability of inmate having exactly 2 prior convictions\n\n#Column Index is 3 as the first column is 0\n\n#Surely there is a cleaner way to do this using tidyverse functions rather than base?\n\n# a\na <- xdist['prob',3] \na\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     prob \n0.1975309 \n```\n:::\n:::\n\n\n### b) P(X\\<2)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#b\nb <- sum(xdist['prob',1:2])\nb\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.6938272\n```\n:::\n:::\n\n\n### c) P(x\\<=2)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# c\nc <- a + b\nc\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    prob \n0.891358 \n```\n:::\n:::\n\n\n### d) P(x\\>2)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#d\nd <- 1 - c\nd\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    prob \n0.108642 \n```\n:::\n:::\n\n\n### e) E(X)\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.28642\n```\n:::\n:::\n\n\n### f) Variance and SD\n\n#### Variance\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Var= E(X^2) - E(X)^2\n# Again using brute force because cannot use var() function on the object xdist correctly\nvar_x <-sum((x_val^2)*prob) - ex^2\nvar_x\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8562353\n```\n:::\n:::\n\n\n#### Standard Deviation\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.9253298\n```\n:::\n:::\n",
    "supporting": [
      "shelton_HW1_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}