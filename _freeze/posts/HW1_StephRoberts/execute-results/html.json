{
  "hash": "4c54c5b27fc90417e38b2cf725c820c6",
  "result": {
    "markdown": "---\ntitle: \"Homework 1\"\nauthor: \"Steph Roberts\"\ndesription: \"Homework 1 - Descriptive Statistics\"\ndate: \"10/3/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw1\n  - challenge1\n  - Steph Roberts\n  - dataset\n  - ggplot2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(readxl)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n### Homework 1\n\n\n##1. Use the LungCapData to answer the following questions. (Hint: Using dplyr, especiallygroup_by() and summarize() can help you answer the following questions relatively efficiently.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf<- read_excel(\"_data/LungCapData.xls\")\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  LungCap   Age Height Smoke Gender Caesarean\n    <dbl> <dbl>  <dbl> <chr> <chr>  <chr>    \n1    6.48     6   62.1 no    male   no       \n2   10.1     18   74.7 yes   female no       \n3    9.55    16   69.7 no    female yes      \n4   11.1     14   71   no    male   no       \n5    4.8      5   56.9 no    male   no       \n6    6.22    11   58.7 no    female no       \n```\n:::\n:::\n\n\n#Summarize\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    LungCap            Age            Height         Smoke          \n Min.   : 0.507   Min.   : 3.00   Min.   :45.30   Length:725        \n 1st Qu.: 6.150   1st Qu.: 9.00   1st Qu.:59.90   Class :character  \n Median : 8.000   Median :13.00   Median :65.40   Mode  :character  \n Mean   : 7.863   Mean   :12.33   Mean   :64.84                     \n 3rd Qu.: 9.800   3rd Qu.:15.00   3rd Qu.:70.30                     \n Max.   :14.675   Max.   :19.00   Max.   :81.80                     \n    Gender           Caesarean        \n Length:725         Length:725        \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7.863148\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmedian(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvar(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7.086288\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.662008\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmin(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.507\n```\n:::\n\n```{.r .cell-code}\nmax(df$LungCap)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 14.675\n```\n:::\n:::\n\n#a. What does the distribution of LungCap look like? (Hint: Plot a histogram with probability density on the y axis)\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x=LungCap)) + \n  geom_histogram(binwidth=0.5,col='black',fill='gray')\n```\n\n::: {.cell-output-display}\n![](HW1_StephRoberts_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\nThe histogram follows a distribution close to normal distibution. In fact, if we change binwidth slightly, it appears even closer to normal distribution.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x=LungCap)) + \n  geom_histogram(binwidth=1,col='black',fill='gray')\n```\n\n::: {.cell-output-display}\n![](HW1_StephRoberts_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\nThis helps illustrate the importance of binwidth and what it can do to our visualization interpretations.\n\n#b. Compare the probability distribution of the LungCap with respect to Males and Females? (Hint: make boxplots separated by gender using the boxplot() function)\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = LungCap, y = Gender)) +        \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](HW1_StephRoberts_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\nThe distribution of male lung capacity is larger and longer than females'.\n\n#c. Compare the mean lung capacities for smokers and non-smokers. Does it make sense?\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(Smoke == 'yes') %>%\n  pull(LungCap) %>%\n  mean() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8.645455\n```\n:::\n\n```{.r .cell-code}\ndf %>%\n  filter(Smoke == 'no') %>%\n  pull(LungCap) %>%\n  mean()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7.770188\n```\n:::\n:::\n\nIt does not make sense at face value. In this sample, smokers have a higher mean lung capacity than non-smokers. Let's check how big each subsample is. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(which(df$Smoke == 'yes'))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 77\n```\n:::\n\n```{.r .cell-code}\nlength(which(df$Smoke == 'no'))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 648\n```\n:::\n:::\n\nAs suspected, there are far more, almost 10 times as many, non-smokers. If we could gather data from all the smokers, perhaps our means would look a lot different. Maybe our sample was taken from young people whose lungs have not been long affected by the smoking.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(Smoke == 'yes') %>%\n  pull(Age) %>%\n  median() \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 15\n```\n:::\n:::\n\nAgain, as suspected, our sample of smokers is a young age. Therefore, the lack of difference in lung capacity between smokers and non-smokers is not too surprising. \n\n#d. Examine the relationship between Smoking and Lung Capacity within age groups: “less than or equal to 13”, “14 to 15”, “16 to 17”, and “greater than or equal to 18”.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Create age groups\ndf <- df %>% \n  mutate(agegroup = case_when(\n    Age <= 13  ~ \"less than or equal to 13\",\n    Age >= 14 & Age <= 15 ~ \"14 to 15\",\n    Age >= 16 & Age <= 17 ~ \"16 TO 17\",\n    Age >= 18 ~ \"greater than or equal to 18\"))\n\ntable(df$agegroup)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n                   14 to 15                    16 TO 17 \n                        120                          97 \ngreater than or equal to 18    less than or equal to 13 \n                         80                         428 \n```\n:::\n\n```{.r .cell-code}\ndf %>%\n  filter(Smoke == 'yes') %>%\n  ggplot(aes(x=LungCap)) + \n  geom_histogram(binwidth=1,col='black',fill='gray')+\n  facet_wrap(~agegroup)\n```\n\n::: {.cell-output-display}\n![](HW1_StephRoberts_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\nThese histograms suggest that participants 13 or younger have smaller lung capacity. The Lung capacity seems to generally increase with age as children grow. \n\n#e. Compare the lung capacities for smokers and non-smokers within each age group. Is your answer different from the one in part c. What could possibly be going on here?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(df, aes(x = LungCap, \n           fill = agegroup)) +\n  geom_density(alpha = 0.4)+\n  facet_wrap(~Smoke)\n```\n\n::: {.cell-output-display}\n![](HW1_StephRoberts_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\nThis visualization starts to explain furthermore why there is an unexpected result for lung capacity in smokers vs. non-smokers. As we have deducted, lung capacity generally improves with age (in growing years). However, teenagers approaching adulthood are also a group more likely to have access or influence to smoking cigarettes. It is likely that our smokers account for some of the older participants, who happen to be closer to normal smoking age. \n\n#f. Calculate the correlation and covariance between Lung Capacity and Age. (use the cov() and cor() functions in R). Interpret your results.\n\n::: {.cell}\n\n```{.r .cell-code}\ncov(df$LungCap, df$Age) #calculate covariance\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8.738289\n```\n:::\n\n```{.r .cell-code}\ncor(df$LungCap, df$Age) #calculate correlation\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8196749\n```\n:::\n:::\n\nA positive coraviance (8.74) indicates lung capacity and age tend to increase together. The positive correlation relatively close to 1 (0.82) indicates there is a fairly strong correlation between the variables. \n\n\n##2. Let X = number of prior convictions for prisoners at a state prison at which there are 810 prisoners.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#create the sample\nx<-rep(c(0,1,2,3,4),times=c(128, 434, 160, 64, 24))\nsample(x, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 2 1 1 0 1 1 2 1 0 1\n```\n:::\n\n```{.r .cell-code}\n#Verify n of sample\nsum(128, 434, 160, 64, 24)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 810\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Calculate the mean\nmean(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.28642\n```\n:::\n\n```{.r .cell-code}\n#Verify the mean\nsample_mean <- (((128*0)+(434*1)+(160*2)+(64*3)+(24*4))/810)\nprint(sample_mean)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.28642\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Calculate the sd\nsd(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.9259016\n```\n:::\n:::\n\n#a. What is the probability that a randomly selected inmate has exactly 2 prior convictions?\n\n::: {.cell}\n\n```{.r .cell-code}\n#probability of 2 convictions?\ndnorm.convict <- dnorm(2, mean(x), sd(x))\nprint(dnorm.convict)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.3201613\n```\n:::\n:::\n\nThe probability of 2 convications in 0.32.\n\n#b. What is the probability that a randomly selected inmate has fewer than 2 prior convictions?\n\n::: {.cell}\n\n```{.r .cell-code}\n#probability of <2 convictions\nless.than <- pnorm(2, mean(x), sd(x)) - dnorm.convict\nprint(less.than)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.4593924\n```\n:::\n:::\n\nThe probability of <2 convictions is 0.46.\n\n#c. What is the probability that a randomly selected inmate has 2 or fewer prior convictions?\n\n::: {.cell}\n\n```{.r .cell-code}\n#probability of =<2 convictions?\npnorm.convict <- pnorm(2, mean(x), sd(x))\nprint(pnorm.convict)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.7795537\n```\n:::\n:::\n\nThe probability of less than or equal to 2 convictions is 0.78.\n\n#d. What is the probability that a randomly selected inmate has more than 2 prior convictions?\n\n::: {.cell}\n\n```{.r .cell-code}\n#probability of >2 convictions?\ngreater.than <- 1 - pnorm.convict\nprint(greater.than)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.2204463\n```\n:::\n:::\n\nThe probability of greater than 2 convictions is 0.22.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Verify all probabilities add to 1\nless.than + dnorm.convict + greater.than\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n#e. What is the expected value for the number of prior convictions?\n\n::: {.cell}\n\n```{.r .cell-code}\n# Expected value of a probability distribution  can be found with μ = Σx * P(x), where x = data value and P(x) = probability of data. \n\n#Calculate probabilities of data\np0 <- dnorm(0, mean(x), sd(x))\np0\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.1641252\n```\n:::\n\n```{.r .cell-code}\np1 <- dnorm(1, mean(x), sd(x))\np1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.410739\n```\n:::\n\n```{.r .cell-code}\np2 <- dnorm(2, mean(x), sd(x))\np2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.3201613\n```\n:::\n\n```{.r .cell-code}\np3 <- dnorm(3, mean(x), sd(x))\np3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.07772916\n```\n:::\n\n```{.r .cell-code}\np4 <- dnorm(4, mean(x), sd(x))\np4\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.005877753\n```\n:::\n\n```{.r .cell-code}\n#Calculate expected value\nev <- sum((0*p0), (1*p1), (2*p2), (3*p3), (4*p4))\nev\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.30776\n```\n:::\n\n```{.r .cell-code}\n#The expected value should be close to the mean in a normal distribution\nmean(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.28642\n```\n:::\n:::\n\nThe expected value is 1.31.\n\n#f. Calculate the variance and the standard deviation for the Prior Convictions.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Calculate variance\nvar(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8572937\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Calculate the sd\nsd(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.9259016\n```\n:::\n:::",
    "supporting": [
      "HW1_StephRoberts_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}